import org.openqa.selenium.WebDriver;import org.openqa.selenium.remote.RemoteWebDriver;import org.testng.annotations.*;import pages.CartPage;import pages.HomePage;import pages.ProductPage;import utils.CapabilityFactory;import java.net.MalformedURLException;import java.net.URL;public class BaseTest {    private static ThreadLocal<RemoteWebDriver> driver = new ThreadLocal<>();    // ThreadLocal позволяет нам хранить данные, которые будут доступны только конкретным потоком.    // Каждый поток будет иметь свой собственный экземпляр ThreadLocal    private CapabilityFactory capabilityFactory = new CapabilityFactory();    @BeforeMethod    @Parameters({"browser"})    public void setUp(@Optional("firefox") String browser) throws MalformedURLException {        driver.set(new RemoteWebDriver(new URL("http://localhost:4444/wd/hub"), capabilityFactory.getCapabilities(browser)));        getDriver().manage().window().maximize();    }    @AfterMethod    public void tearDown() {        getDriver().close();       // getDriver().quit();    }    @AfterClass    void terminate() {        driver.remove();    }    public WebDriver getDriver() {        return driver.get();    }    public HomePage getHomePage() {        return new HomePage(getDriver());    }    public ProductPage getProductPage() {        return new ProductPage(getDriver());    }    public CartPage getCartPage() {        return new CartPage(getDriver());    }}